/**
 * jQuery serializeObject
 * @copyright 2014, macek <paulmacek@gmail.com>
 * @link https://github.com/macek/jquery-serialize-object
 * @license BSD
 * @version 2.5.0
 */
$.fn.serializeArrayWithCheckboxes=function(){var e=/\r?\n/g;return this.map(function(){return this.elements?jQuery.makeArray(this.elements):this}).map(function(r,i){var t=jQuery(this).val();return null==t?null==t:"checkbox"==this.type&&0==this.checked?{name:this.name,value:this.checked?this.value:""}:jQuery.isArray(t)?jQuery.map(t,function(r,t){return{name:i.name,value:r.replace(e,"\r\n")}}):{name:i.name,value:t.replace(e,"\r\n")}}).get()},function(e,r){if("function"==typeof define&&define.amd)define(["exports","jquery"],function(e,i){return r(e,i)});else if("undefined"!=typeof exports){var i=require("jquery");r(exports,i)}else r(e,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,r){function i(e,i){function n(e,r,i){return e[r]=i,e}function a(e,r){for(var i,a=e.match(t.key);void 0!==(i=a.pop());)if(t.push.test(i)){var u=s(e.replace(/\[\]$/,""));r=n([],u,r)}else t.fixed.test(i)?r=n([],i,r):t.named.test(i)&&(r=n({},i,r));return r}function s(e){return void 0===d[e]&&(d[e]=0),d[e]++}function u(e){switch(r('[name="'+e.name+'"]',i).attr("type")){case"checkbox":return"on"===e.value?"true":"false";default:return e.value}}function f(r){if(!t.validate.test(r.name))return this;var i=a(r.name,u(r));return l=e.extend(!0,l,i),this}function o(r){if(!e.isArray(r))throw new Error("formSerializer.addPairs expects an Array");for(var i=0,t=r.length;i<t;i++)this.addPair(r[i]);return this}function c(){return l}function h(){return JSON.stringify(c())}var l={},d={};this.addPair=f,this.addPairs=o,this.serialize=c,this.serializeJSON=h}var t={validate:/^[a-z_][a-z0-9_]*(?:\[(?:\d*|[a-z0-9_]+)\])*$/i,key:/[a-z0-9_]+|(?=\[\])/gi,push:/^$/,fixed:/^\d+$/,named:/^[a-z0-9_]+$/i};return i.patterns=t,i.serializeObject=function(){return new i(r,this).addPairs(this.serializeArrayWithCheckboxes()).serialize()},i.serializeJSON=function(){return new i(r,this).addPairs(this.serializeArrayWithCheckboxes()).serializeJSON()},"undefined"!=typeof r.fn&&(r.fn.serializeObject=i.serializeObject,r.fn.serializeJSON=i.serializeJSON),e.FormSerializer=i,i});
